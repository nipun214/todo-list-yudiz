<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <style>
        /* *{box-sizing: border-box;} */
        html,body{margin: 0;padding: 0; background-image: linear-gradient(to right, #B3FFAB,#12FFF7);}
        .contianer
        {
            margin: 100px 500px;
            
        }
        .form-group
        {
            margin: 10px;
            /* padding: 200px; */
        }
        input
        {
            width: 70%;
            border: solid 1px #eee;
            padding: 15px 10px;
            border-radius: 10px;
        }
        select
        {
            width: 74%;
            border: solid 1px #eee;
            padding: 15px 10px;
            border-radius: 10px;
        }
        .gender
        {
            margin: 5px;
            width: 12%;
        }
        button
        {
            width: 200px;
            padding: 15px;
            margin-left: 70px;
            background: #fff;
            color: dodgerblue;
            border: solid 1px dodgerblue;
            cursor: pointer;
            border-radius: 33px;
            transition: all .38s ease-in-out;
        }
    </style>
</head>
<body>
    Already have a account Click below button:)
    <div class="from-group">
        <button type="submit" onclick="pagenext();" >Login</button>
    </div>
    <div class="contianer">
        <h1>Sign Up From</h1>
        <form role="form">
            <div class="from-group">
                <input type="text" name="fname" id="fname" placeholder="Fullname" required>
            </div>
            <br>
            <div class="from-group">
                <input type="number" name="mobile" id="mobile" placeholder="Mobile number" required>
            </div>
            <br>
            <div class="from-group">
                <input type="date" name="dob" id="dob" placeholder="birth date" required>
            </div>
            <br>
            <div class="from-group">
                <input type="email" name="email" id="email" placeholder="Email Address" required>
            </div>
            <br>
            <div class="from-group">
                <input type="password" name="pwd" id="pwd" placeholder="password" required onblur="check();">
            </div>
            <br>
            <div class="from-group">
                <select name="gender" id="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <br>
            <div class="from-group">
                <button type="button" id="a" onclick="signup();" hidden="true">Sign Up</button>
            </div>

        </form>
        <!-- <h2>
            My Information
        </h2>
        <div id="output">

        </div> -->
    </div>

    <script type="text/javascript">
        var fname = document.getElementById('fname');
        var mobile = document.getElementById('mobile');
        var date = document.getElementById('dob');
        var email = document.getElementById('email');
        var pswd = document.getElementById('pwd');
        var gender = document.getElementById('gender');
        
        var items = new Array();
        function signup()
        {
            // localStorage.setItem('fname', fname.value);
            // localStorage.setItem('mobile', mobile.value);
            // localStorage.setItem('date', date.value);
            // localStorage.setItem('email', email.value);
            // localStorage.setItem('pwd', pswd.value);
            // localStorage.setItem('gender',gender.value);
            var stored1 = localStorage.getItem('all');
            var storedVal = JSON.parse(stored1);
            var todo = [];
            if(storedVal != null)
            {
                for (var i = 0; i < storedVal.length; i++)
                {
                    if(email.value == storedVal[i].email)
                    {
                        alert('Email is already registered');
                        window.location.href = "/signup.html";
                    }
                    else if(mobile.value == storedVal[i].mobile)
                    {
                        alert('Mobile no. is already registered');
                        window.location.href = "/signup.html";
                    }
                    else
                    {
                        localData = localStorage.getItem('all');
                        if (localData) {
                            items = JSON.parse(localData);
                        }
                        items.push({ 'name': fname.value, 'email': email.value, 'mobile': mobile.value, 'gender': gender.value, 'birthday': dob.value, 'password': pswd.value,'todo':todo });
                        localStorage.setItem('all', JSON.stringify(items));
                        alert('Registered sucess')
                        window.location.href = "/login.html";
                    }
                }
            }
            else
            {
                localData = localStorage.getItem('all');
                if (localData) {
                    items = JSON.parse(localData);
                }
                items.push({ 'name': fname.value, 'email': email.value, 'mobile': mobile.value, 'gender': gender.value, 'birthday': dob.value, 'password': pswd.value,'todo':todo });
                localStorage.setItem('all', JSON.stringify(items));
                alert('Registered sucess')
                window.location.href = "/login.html";
            }
        }
        function pagenext()
        {
            window.location.href = "/login.html";
        }
        // const signUp= e =>{
        //     let formdata = 
        //     {
        //         fname: document.getElementById('fname').value,
        //         lname: document.getElementById('lname').value,
        //         email: document.getElementById('email').value,
        //         pwd: document.getElementById('pwd').value
        //     }
        //     localStorage.setItem('formdata',JSON.stringify(formdata));
        //     // console.log(localStorage.getItem('formdata'));
        //     disData();
            
        // }
        // function disData()
        // {
        //     if(localStorage.getItem('formdata'))
        //     {
        //         let {fname, lname, email, pwd} = JSON.parse(localStorage.getItem('formdata'));
        //         var output =document.getElementById('output');
        //         output.innerHTML = `
        //         <table>
        //             <tbody>
        //                 <tr>
        //                     <td>Firstname</td>
        //                     <td>${fname}</td>
        //                 </tr>
        //                 <tr>
        //                     <td>Lastname</td>
        //                     <td>${lname}</td>
        //                 </tr>
        //                 <tr>
        //                     <td>Email</td>
        //                     <td>${email}</td>
        //                 </tr>
        //                 <tr>
        //                     <td>password</td>
        //                     <td>${pwd}</td>
        //                 </tr>
        //             </tbody>
        //         </table>
        //     `;
        //     }
        // }
        // disData();

        //password validation

        function check() {
            var str = document.getElementById('pwd').value;
            if (str.match(/[a-z]/g) && str.match( 
                    /[A-Z]/g) && str.match( 
                    /[0-9]/g) && str.match( 
                    /[^a-zA-Z\d]/g) && str.length >= 8) {
                document.getElementById('pwd').style.color = 'green';
                document.getElementById('pwd').innerHTML = 'matching';
                document.getElementById('a').hidden = false;
            } else {
                document.getElementById('pwd').style.color = 'red';
                document.getElementById('pwd').innerHTML = 'not matching';
                document.getElementById('a').hidden = true;
            }
        }
    </script>
</body>
</html>